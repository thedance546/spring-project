<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"/>

<body>
<div id="comments-new">
    <form action="@{'/articles/' + ${article.id} + '/comments/create'}" method="post">
        <div>
            <label class="form-label">닉네임</label>
            <input type="text" class="form-control" id="new-comment-name">
        </div>
        <div>
            <label class="form-label">댓글 내용</label>
            <textarea th:type="text" class="form-control" rows="3" id="new-comment-body"></textarea>
        </div>
        <!--        히든 인풋-->
        <input type="hidden" id="new-comment-article-id" th:name="articleId" th:value="${articleId}">
        <!--        전송 버튼-->
        <button type="submit" class="btn btn-primary" id="comment-create-btn">댓글 등록</button>
    </form>
</div>

<script>
    //댓글 전송 버튼 변수화
    const commentCreateBtn = document.querySelector("#comment-create-btn");

    commentCreateBtn.addEventListener("click", function () {
        // const comment = {
        //     name: document.querySelector("#new-comment-name").value,
        //     body: document.querySelector("#new-comment-body").value,
        //     articleId: document.querySelector("#new-comment-article-id").value
        //
        // };
        // console.log(comment);
        //
        // const url = "/api/articles/" + comment.articleId+ "/commnets";
        // fetch(url, {
        //     method: "POST",
        //     headers: {
        //         "Comment-Type": "application/json"
        //     },
        //     body: JSON.stringify(comment)
        // });
        console.log("댓글 전송 버튼 클릭");
    });
</script>

</body>
</html>